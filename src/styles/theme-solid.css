/**
 * Theme Solid - Performance-focused alternative to glassmorphism
 * 
 * This theme provides opaque, solid backgrounds without blur effects
 * to improve performance on lower-end devices or when preferred by users.
 * Uses color scheme variables for consistent theming.
 */

/* When theme-solid class is applied to body, override glassmorphism effects */
.theme-solid {
  /* Use color scheme derived variables for solid theme */
  --glass-surface: var(--solid-bg-primary);
  --glass-surface-hover: var(--solid-bg-hover);
  --glass-surface-strong: var(--solid-bg-tertiary);
  --glass-border: var(--solid-border);
  --glass-text: var(--solid-text);
  --glass-text-muted: var(--solid-text-muted);
  --glass-text-light: var(--solid-text-light);
  
  /* Dark solid variants use the same scheme */
  --glass-dark: var(--solid-bg-primary);
  --glass-dark-hover: var(--solid-bg-hover);
  --glass-dark-border: var(--solid-border);
  
  /* Disable blur effects completely */
  --glass-blur: none;
  --glass-blur-strong: none;
  
  /* Solid shadows without transparency */
  --shadow-glass: 0 4px 12px 0 rgba(0, 0, 0, 0.3);
  --shadow-glass-lg: 0 8px 20px rgba(0, 0, 0, 0.4);
  --shadow-glass-xl: 0 12px 30px rgba(0, 0, 0, 0.5);
  
  /* Use gradient based on color scheme */
  --gradient-primary: var(--gradient-dark);
  --gradient-secondary: var(--gradient-dark);
  --gradient-tertiary: var(--gradient-dark);
}

/* Disable background animations for performance */
.theme-solid body::before {
  display: none;
}

.theme-solid .background-particles,
.theme-solid .particle {
  display: none;
}

/* Override glassmorphism base classes */
.theme-solid .glass {
  background: var(--glass-surface);
  backdrop-filter: none !important;
  -webkit-backdrop-filter: none !important;
  border: 1px solid var(--glass-border);
  box-shadow: var(--shadow-glass);
}

.theme-solid .glass-strong {
  background: var(--glass-surface-strong);
  backdrop-filter: none !important;
  -webkit-backdrop-filter: none !important;
  border: 1px solid var(--glass-border);
  box-shadow: var(--shadow-glass-lg);
}

.theme-solid .glass-hover:hover {
  background: var(--glass-surface-hover);
  transform: translateY(-1px); /* Reduced movement */
  box-shadow: var(--shadow-glass-lg);
}

/* Layout header solid override - uses color scheme */
.theme-solid .layout-header {
  background: var(--solid-bg-primary);
  backdrop-filter: none !important;
  -webkit-backdrop-filter: none !important;
  border-bottom: 1px solid var(--solid-border);
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);
}

/* Tab navigation solid override - uses color scheme */
.theme-solid .tab-nav {
  background: var(--solid-bg-secondary);
  backdrop-filter: none !important;
  -webkit-backdrop-filter: none !important;
  border: 1px solid var(--solid-border);
}

.theme-solid .tab-nav button {
  background: transparent;
  backdrop-filter: none !important;
  -webkit-backdrop-filter: none !important;
}

.theme-solid .tab-nav button::before {
  display: none; /* Remove shine animation */
}

.theme-solid .tab-nav button:hover {
  background: var(--solid-bg-hover);
  transform: translateY(0); /* Disable lift effect */
  box-shadow: none;
}

.theme-solid .tab-nav button.active {
  background: var(--solid-bg-active);
  border-color: var(--solid-border-light);
  box-shadow: 0 0 8px rgba(0, 0, 0, 0.2);
}

/* Lobby overrides - uses color scheme */
.theme-solid .lobby-content {
  background: var(--solid-bg-primary);
  backdrop-filter: none !important;
  -webkit-backdrop-filter: none !important;
  box-shadow: 0 8px 24px rgba(0, 0, 0, 0.4);
}

.theme-solid .lobby-content::before {
  display: none; /* Remove decorative gradient */
}

.theme-solid .action-group {
  background: var(--solid-bg-secondary);
  backdrop-filter: none !important;
  -webkit-backdrop-filter: none !important;
}

.theme-solid .action-group:hover {
  background: var(--solid-bg-hover);
  transform: translateY(-2px); /* Reduced movement */
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
}

.theme-solid .name-input input,
.theme-solid .action-group input {
  background: var(--solid-bg-primary);
  backdrop-filter: none !important;
  -webkit-backdrop-filter: none !important;
  border: 1px solid var(--solid-border);
  color: var(--solid-text);
}

.theme-solid .name-input input:focus,
.theme-solid .action-group input:focus {
  background: var(--solid-bg-hover);
  border-color: var(--color-primary);
  box-shadow: 0 0 0 2px rgba(var(--color-primary-rgb), 0.2);
}

/* Session info and player list solid overrides */
.theme-solid .session-info,
.theme-solid .players-list {
  background: var(--solid-bg-primary);
  backdrop-filter: none !important;
  -webkit-backdrop-filter: none !important;
  border: 1px solid var(--solid-border);
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
}

.theme-solid .players-list li {
  background: var(--solid-bg-secondary);
  backdrop-filter: none !important;
  -webkit-backdrop-filter: none !important;
  border-bottom: 1px solid var(--solid-border);
}

.theme-solid .players-list li:hover {
  background: var(--solid-bg-hover);
  transform: translateX(2px); /* Reduced movement */
}

.theme-solid .players-list li.host {
  background: linear-gradient(135deg, var(--solid-bg-tertiary), var(--solid-bg-secondary));
  border: 1px solid var(--color-primary);
}

/* Button solid overrides - use color scheme */
.theme-solid button {
  background: var(--solid-bg-secondary);
  backdrop-filter: none !important;
  -webkit-backdrop-filter: none !important;
  border: 1px solid var(--solid-border);
}

.theme-solid button::before {
  display: none; /* Remove shine animation */
}

.theme-solid button.primary {
  background: linear-gradient(135deg, var(--color-primary), var(--color-secondary));
  border: 1px solid var(--color-primary);
  box-shadow: 0 2px 8px rgba(var(--color-primary-rgb), 0.3);
}

.theme-solid button.primary:hover:not(:disabled) {
  background: linear-gradient(135deg, var(--color-secondary), var(--color-accent));
  transform: translateY(-1px);
  box-shadow: 0 4px 12px rgba(var(--color-primary-rgb), 0.4);
}

.theme-solid button.secondary {
  background: var(--solid-bg-tertiary);
  border: 1px solid var(--solid-border-light);
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);
}

.theme-solid button.secondary:hover:not(:disabled) {
  background: var(--solid-bg-active);
  transform: translateY(-1px);
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
}

.theme-solid button.disconnect-btn {
  background: linear-gradient(135deg, var(--color-error), #dc2626);
  border: 1px solid var(--color-error);
  box-shadow: 0 2px 8px rgba(220, 38, 38, 0.3);
}

.theme-solid button.disconnect-btn:hover {
  background: linear-gradient(135deg, #ef4444, #f87171);
  transform: translateY(-1px);
  box-shadow: 0 4px 12px rgba(220, 38, 38, 0.4);
}

/* Dice roller solid overrides - use color scheme */
.theme-solid .dice-input,
.theme-solid .dice-history {
  background: var(--solid-bg-primary);
  backdrop-filter: none !important;
  -webkit-backdrop-filter: none !important;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
}

.theme-solid .dice-input::before,
.theme-solid .dice-history::before {
  display: none; /* Remove decorative gradient */
}

.theme-solid .dice-expression {
  background: var(--solid-bg-secondary);
  backdrop-filter: none !important;
  -webkit-backdrop-filter: none !important;
  border: 1px solid var(--solid-border);
}

.theme-solid .dice-expression:focus {
  background: var(--solid-bg-hover);
  border-color: var(--color-primary);
  box-shadow: 0 0 0 2px rgba(var(--color-primary-rgb), 0.2);
}

.theme-solid .dice-btn {
  background: var(--solid-bg-secondary);
  backdrop-filter: none !important;
  -webkit-backdrop-filter: none !important;
  border: 1px solid var(--solid-border);
}

.theme-solid .dice-btn:hover {
  background: linear-gradient(135deg, var(--color-primary), var(--color-secondary));
  transform: translateY(-1px);
  box-shadow: 0 2px 8px rgba(var(--color-primary-rgb), 0.3);
}

.theme-solid .dice-roll {
  background: var(--solid-bg-secondary);
  backdrop-filter: none !important;
  -webkit-backdrop-filter: none !important;
  border: 1px solid var(--solid-border);
}

.theme-solid .dice-roll:hover {
  background: var(--solid-bg-hover);
  transform: translateX(2px); /* Reduced movement */
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);
}

.theme-solid .dice-roll.private {
  background: rgba(var(--color-primary-rgb), 0.15);
  border-left: 4px solid var(--color-primary);
}

.theme-solid .roll-result {
  background: var(--solid-bg-tertiary);
  backdrop-filter: none !important;
  -webkit-backdrop-filter: none !important;
  border: 1px solid var(--solid-border-light);
}

/* Placeholder solid overrides */
.theme-solid .placeholder-content {
  background: var(--solid-bg-primary);
  backdrop-filter: none !important;
  -webkit-backdrop-filter: none !important;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
}

.theme-solid .placeholder-content::before {
  display: none; /* Remove decorative gradient */
}

.theme-solid .placeholder-card li {
  background: var(--solid-bg-secondary);
  backdrop-filter: none !important;
  -webkit-backdrop-filter: none !important;
  border: 1px solid var(--solid-border);
}

.theme-solid .placeholder-card li:hover {
  background: var(--solid-bg-hover);
  transform: translateX(5px); /* Reduced movement */
}

/* Error messages solid override */
.theme-solid .error {
  background: rgba(var(--color-error-rgb, 239, 68, 68), 0.15);
  backdrop-filter: none !important;
  -webkit-backdrop-filter: none !important;
  border: 1px solid var(--color-error);
  box-shadow: 0 2px 8px rgba(var(--color-error-rgb, 239, 68, 68), 0.2);
}

/* Animations adjustments for solid theme */
.theme-solid .glass,
.theme-solid .glass-strong {
  animation: solidAppear 0.4s ease-out;
}

@keyframes solidAppear {
  from {
    opacity: 0;
    transform: translateY(10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.theme-solid .dice-roll.new-roll {
  animation: solidNewRoll 0.8s ease-out;
}

@keyframes solidNewRoll {
  0% {
    background: #3d4152;
    transform: scale(1.01);
  }
  100% {
    background: #252837;
    transform: scale(1);
  }
}

/* Lobby glassmorphism specific overrides - using color scheme */
.theme-solid .lobby-background img {
  filter: brightness(0.4) contrast(0.9) saturate(0.7); /* Darker, less saturated */
}

.theme-solid .background-overlay {
  background: linear-gradient(
    135deg,
    rgba(var(--color-surface-rgb), 0.8) 0%,
    rgba(var(--color-surface-rgb), 0.9) 50%,
    rgba(var(--color-surface-rgb), 0.8) 100%
  );
  backdrop-filter: none !important;
}

.theme-solid .glass-panel {
  background: var(--solid-bg-primary);
  backdrop-filter: none !important;
  -webkit-backdrop-filter: none !important;
  border: 1px solid var(--solid-border);
  box-shadow: 0 8px 24px rgba(0, 0, 0, 0.4);
}

.theme-solid .glass-input {
  background: var(--solid-bg-secondary);
  backdrop-filter: none !important;
  -webkit-backdrop-filter: none !important;
  border: 1px solid var(--solid-border);
}

.theme-solid .glass-input:focus {
  background: var(--solid-bg-hover);
  border-color: var(--color-primary);
  box-shadow: 0 0 0 2px rgba(var(--color-primary-rgb), 0.2);
}

.theme-solid .glass-button {
  background: var(--solid-bg-secondary);
  backdrop-filter: none !important;
  -webkit-backdrop-filter: none !important;
  border: 1px solid var(--solid-border);
}

.theme-solid .glass-button:hover:not(:disabled) {
  background: var(--solid-bg-hover);
  transform: translateY(-1px);
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
}

.theme-solid .glass-button.primary {
  background: linear-gradient(135deg, var(--color-primary), var(--color-secondary));
  border-color: var(--color-primary);
}

.theme-solid .glass-button.primary:hover:not(:disabled) {
  background: linear-gradient(135deg, var(--color-secondary), var(--color-accent));
}

.theme-solid .glass-button.secondary {
  background: linear-gradient(135deg, var(--color-accent), var(--color-secondary));
  border-color: var(--color-accent);
}

.theme-solid .glass-button.secondary:hover:not(:disabled) {
  filter: brightness(1.2);
}

.theme-solid .glass-button.danger {
  background: linear-gradient(135deg, var(--color-error), #dc2626);
  border-color: var(--color-error);
}

.theme-solid .glass-button.danger:hover:not(:disabled) {
  filter: brightness(1.2);
}

.theme-solid .room-code {
  background: var(--solid-bg-secondary);
  backdrop-filter: none !important;
  -webkit-backdrop-filter: none !important;
  border: 1px solid var(--solid-border);
}

.theme-solid .role-badge {
  background: rgba(var(--color-primary-rgb), 0.15);
  border: 1px solid var(--color-primary);
}

.theme-solid .player-card {
  background: var(--solid-bg-secondary);
  border: 1px solid var(--solid-border);
}

.theme-solid .player-card:hover {
  background: var(--solid-bg-hover);
}

.theme-solid .dm-card {
  border-color: var(--color-primary);
  background: rgba(var(--color-primary-rgb), 0.1);
}

.theme-solid .player-avatar {
  background: var(--solid-bg-primary);
}

.theme-solid .error-message {
  background: linear-gradient(135deg, rgba(var(--color-error-rgb, 239, 68, 68), 0.15), rgba(220, 38, 127, 0.15));
  border-color: var(--color-error);
}

/* Disable floating animations in solid theme */
.theme-solid @keyframes float {
  0%, 100% { transform: none; }
}

.theme-solid @keyframes logoFloat {
  0%, 100% { transform: none; }
}

/* Scrollbar styling for solid theme */
.theme-solid .rolls-list::-webkit-scrollbar-track {
  background: var(--solid-bg-primary);
}

.theme-solid .rolls-list::-webkit-scrollbar-thumb {
  background: var(--solid-border);
}

.theme-solid .rolls-list::-webkit-scrollbar-thumb:hover {
  background: var(--solid-border-light);
}

/* Ensure text remains readable in solid theme */
.theme-solid .layout-panel .panel-body,
.theme-solid .settings-container {
  --glass-text: var(--solid-text);
  --glass-text-muted: var(--solid-text-muted);
  --glass-text-light: var(--solid-text-light);
  color: var(--glass-text);
}

/* Keep gradient text visible with proper contrast */
.theme-solid .brand-title,
.theme-solid .roller-name,
.theme-solid .layout-header h1,
.theme-solid h1 {
  background: linear-gradient(135deg, var(--solid-text) 0%, var(--solid-text-muted) 100%);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  filter: brightness(1.1);
}

/* Ensure accessibility with proper contrast in solid theme */
@media (prefers-contrast: high) {
  .theme-solid {
    --solid-bg-primary: var(--color-surface);
    --solid-bg-secondary: var(--color-surface);
    --solid-bg-tertiary: var(--color-surface);
    --solid-border: var(--color-text);
    --solid-text: var(--color-text);
    --solid-text-muted: var(--color-text);
    --solid-text-light: var(--color-text);
  }
}
