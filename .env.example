# Nexus VTT Environment Configuration
# Copy this file to .env and update with your values

# ====================
# Application Settings
# ====================
NODE_ENV=development
PORT=5173
WS_PORT=5001

# ====================
# URLs and Domains
# ====================
# Frontend URL (for CORS)
FRONTEND_URL=http://localhost:5173
# WebSocket URL (for frontend connection)
VITE_WS_URL=ws://localhost:5001/ws
# Production domain (for deployment)
DOMAIN=nexus-vtt.local
# CORS allowed origins (comma-separated)
CORS_ORIGIN=http://localhost:5173,http://localhost:3000

# ====================
# Security
# ====================
# JWT secret for session tokens (CHANGE IN PRODUCTION!)
JWT_SECRET=your-super-secret-jwt-key-change-this-in-production
# Session secret for cookies
SESSION_SECRET=your-session-secret-change-this-in-production
# Admin password for management endpoints
ADMIN_PASSWORD=admin-password-change-this

# ====================
# Database & Storage
# ====================
# Redis connection string
REDIS_URL=redis://localhost:6379
# Redis password (if applicable)
REDIS_PASSWORD=
# Database URL (for future use)
DATABASE_URL=postgresql://user:password@localhost:5432/nexus

# ====================
# Asset Management
# ====================
# Assets directory path (relative to server directory)
ASSETS_PATH=./static-assets/assets
# Asset cache max age (seconds)
CACHE_MAX_AGE=86400
# Maximum upload size (in MB)
MAX_UPLOAD_SIZE=50
# Allowed file extensions (comma-separated)
ALLOWED_EXTENSIONS=jpg,jpeg,png,gif,webp,svg,mp3,ogg,wav

# ====================
# OAuth Configuration
# ====================
# Google OAuth 2.0 credentials
# Get from: https://console.cloud.google.com/apis/credentials
GOOGLE_CLIENT_ID=your-google-client-id.apps.googleusercontent.com
GOOGLE_CLIENT_SECRET=your-google-client-secret

# Discord OAuth 2.0 credentials
# Get from: https://discord.com/developers/applications
DISCORD_CLIENT_ID=your-discord-client-id
DISCORD_CLIENT_SECRET=your-discord-client-secret

# OAuth callback URLs
# Development:
GOOGLE_CALLBACK_URL=http://localhost:5001/auth/google/callback
DISCORD_CALLBACK_URL=http://localhost:5001/auth/discord/callback
# Production (update these in .env.production):
# GOOGLE_CALLBACK_URL=https://app.nexusvtt.com/auth/google/callback
# DISCORD_CALLBACK_URL=https://app.nexusvtt.com/auth/discord/callback

# ====================
# External Services
# ====================
# Sentry DSN for error tracking (optional)
SENTRY_DSN=
# Analytics ID (optional)
ANALYTICS_ID=
# Discord webhook for notifications (optional)
DISCORD_WEBHOOK_URL=

# ====================
# Docker & Deployment
# ====================
# Docker registry
REGISTRY=ghcr.io
# Image version
VERSION=latest
# Deployment environment
ENVIRONMENT=development

# ====================
# Development Settings
# ====================
# Enable hot reload
HOT_RELOAD=true
# Enable debug mode
DEBUG=false
# Enable mock data
USE_MOCK_DATA=false
# Development tools
ENABLE_DEV_TOOLS=true

# ====================
# Performance
# ====================
# Maximum concurrent connections per room
MAX_CONNECTIONS_PER_ROOM=50
# WebSocket heartbeat interval (ms)
WS_HEARTBEAT_INTERVAL=30000
# Session timeout (minutes)
SESSION_TIMEOUT=1440
# Rate limiting (requests per minute)
RATE_LIMIT_RPM=100

# ====================
# Feature Flags
# ====================
FEATURE_INITIATIVE_TRACKER=false
FEATURE_CHAT_SYSTEM=false
FEATURE_SOUND_EFFECTS=false
FEATURE_ADVANCED_TOKENS=false
FEATURE_FOG_OF_WAR=false
FEATURE_DYNAMIC_LIGHTING=false

# ====================
# Testing
# ====================
TEST_MODE=false
TEST_USER_ID=test-user-123
TEST_ROOM_CODE=TEST

# ====================
# Monitoring
# ====================
# Health check endpoint
HEALTH_CHECK_PATH=/health
# Metrics endpoint
METRICS_PATH=/metrics
# Log level (error, warn, info, debug, trace)
LOG_LEVEL=info
# Log to file
LOG_TO_FILE=false
LOG_FILE_PATH=./logs/nexus.log
